{"remainingRequest":"C:\\Users\\ddung\\Desktop\\booking-vue\\booking\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ddung\\Desktop\\booking-vue\\booking\\src\\components\\ListHouse.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ddung\\Desktop\\booking-vue\\booking\\src\\components\\ListHouse.vue","mtime":1596300850128},{"path":"C:\\Users\\ddung\\Desktop\\booking-vue\\booking\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ddung\\Desktop\\booking-vue\\booking\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\ddung\\Desktop\\booking-vue\\booking\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\ddung\\Desktop\\booking-vue\\booking\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ddung\\Desktop\\booking-vue\\booking\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJMaXN0SG91c2UiLA0KICBwcm9wczogew0KICAgIHF1ZXJ5OiB7DQogICAgICB0eXBlOiBPYmplY3QsDQogICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICB9LA0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBob3VzZXM6IFtdLA0KICAgICAgc2VhcmNoOiBudWxsLA0KICAgICAgbG9hZGluZzogZmFsc2UsDQogICAgICBkcm9wZG93blNlYXJjaHM6IFsNCiAgICAgICAgeyB0aXRsZTogIkFyZWEiLCBpY29uOiAibG9jYXRpb25fb24iLCBpdGVtczogW10gfSwNCiAgICAgICAgeyB0aXRsZTogIlByaWNlIiwgaWNvbjogImxvY2FsX29mZmVyIiwgaXRlbXM6IFtdIH0sDQogICAgICAgIHsgdGl0bGU6ICJCZWRyb29tcyIsIGljb246ICJ3ZWVrZW5kIiwgaXRlbXM6IFtdIH0sDQogICAgICAgIHsgdGl0bGU6ICJNb3JlIGZpbHRlcnMiLCBpdGVtczogW10gfSwNCiAgICAgIF0sDQogICAgfTsNCiAgfSwNCiAgY3JlYXRlZDogZnVuY3Rpb24gKCkgew0KICAgIGxldCB2bSA9IHRoaXM7DQogICAgdm0uJGF4aW9zDQogICAgICAucG9zdChgL2Jvb2tpbmcvYXBpL3YxL19zZWFyY2hgLCB2bS5xdWVyeSkNCiAgICAgIC50aGVuKGFzeW5jIChyZXNwb25zZSkgPT4gew0KICAgICAgICBmb3IgKGxldCBob3VzZSBvZiByZXNwb25zZS5kYXRhLmhpdHMuaGl0cykgew0KICAgICAgICAgIGxldCBpbWFnZSA9IGF3YWl0IHZtLmNhbGxBUEkoaG91c2UuX3NvdXJjZS5ob3VzZUlkKTsNCiAgICAgICAgICBob3VzZS5fc291cmNlLmF2dCA9ICIvYm9va2luZy9pbWFnZXMvIiArIGltYWdlWzBdOw0KDQogICAgICAgICAgbGV0IHF1ZXJ5Vm90ZSA9IHsNCiAgICAgICAgICAgIGluZGljZTogIlZvdGluZyIsDQogICAgICAgICAgICBzaXplOiAxMDAwMCwNCiAgICAgICAgICAgIHF1ZXJ5OiB7DQogICAgICAgICAgICAgIGJvb2w6IHsNCiAgICAgICAgICAgICAgICBtdXN0OiBbDQogICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIG1hdGNoOiB7DQogICAgICAgICAgICAgICAgICAgICAgX3R5cGU6ICJWb3RpbmciLA0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgbWF0Y2g6IHsNCiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICJjb20uYm9va2luZy5tb2RlbC5Ib3VzZSIsDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBtYXRjaDogew0KICAgICAgICAgICAgICAgICAgICAgIGNsYXNzUEs6IGhvdXNlLl9zb3VyY2UuaG91c2VJZCwNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgXSwNCiAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgfTsNCiAgICAgICAgICBhd2FpdCB2bS4kYXhpb3MNCiAgICAgICAgICAgIC5wb3N0KGAvYm9va2luZy9hcGkvdjEvX3NlYXJjaGAsIHF1ZXJ5Vm90ZSkNCiAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICAgICAgICBob3VzZS5fc291cmNlLmNvdW50Vm90ZSA9IHJlc3BvbnNlLmRhdGEuaGl0cy5oaXRzLmxlbmd0aDsNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAuY2F0Y2goKGVycikgPT4gew0KICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOw0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICB2bS5ob3VzZXMucHVzaChob3VzZSk7DQogICAgICAgIH0NCiAgICAgIH0pDQogICAgICAuY2F0Y2goKGVycikgPT4gew0KICAgICAgICBjb25zb2xlLmxvZyhlcnIpOw0KICAgICAgfSk7DQogICAgICANCiAgICB2bS4kYXhpb3MNCiAgICAgIC5nZXQoYC9ib29raW5nL2FwaS92MS9jaXR5c2AsIHsNCiAgICAgICAgcGFyYW1zOiB7IHN0YXJ0OiAwLCBlbmQ6IDUwMDAgfSwNCiAgICAgIH0pDQogICAgICAudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICAgICAgZm9yIChsZXQgaXRlbSBvZiByZXNwb25zZS5kYXRhLmNvbnRlbnQpIHsNCiAgICAgICAgICBsZXQgb2JqID0geyBpZDogaXRlbS5jaXR5SWQsIG5hbWU6IGl0ZW0uY2l0eU5hbWUgfTsNCiAgICAgICAgICB2bS5kcm9wZG93blNlYXJjaHNbMF0uaXRlbXMucHVzaChvYmopOw0KICAgICAgICB9DQogICAgICB9KQ0KICAgICAgLmNhdGNoKChlKSA9PiB7DQogICAgICAgIGNvbnNvbGUubG9nKGUpOw0KICAgICAgfSk7DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBmb3JtYXRQcmljZSh2YWx1ZSkgew0KICAgICAgbGV0IHZhbCA9ICh2YWx1ZSAvIDEpLnRvRml4ZWQoKS5yZXBsYWNlKCIuIiwgIiwiKTsNCiAgICAgIHJldHVybiB2YWwudG9TdHJpbmcoKS5yZXBsYWNlKC9cQig/PShcZHszfSkrKD8hXGQpKS9nLCAiLiIpOw0KICAgIH0sDQogICAgY2FsbEFQSShob3VzZUlkKSB7DQogICAgICBsZXQgdm0gPSB0aGlzOw0KICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsNCiAgICAgICAgdm0uJGF4aW9zDQogICAgICAgICAgLmdldChgL2Jvb2tpbmcvYXBpL3YxL2ltYWdlL2NvbS5ib29raW5nLm1vZGVsLkhvdXNlL2AgKyBob3VzZUlkKQ0KICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgew0KICAgICAgICAgICAgcmVzb2x2ZShyZXNwb25zZS5kYXRhLmRhdGEpOw0KICAgICAgICAgIH0pDQogICAgICAgICAgLmNhdGNoKChlcnIpID0+IHsNCiAgICAgICAgICAgIHJlamVjdChlcnIpOw0KICAgICAgICAgIH0pOw0KICAgICAgfSk7DQogICAgfSwNCiAgICBzZWFyY2hBUEkoa2V5d29yZFNlYXJjaCkgew0KICAgICAgbGV0IHZtID0gdGhpczsNCiAgICAgIC8vbGV0IGtleXdvcmRTZWFyY2ggPSB2bS5zZWFyY2g7DQogICAgICB2bS5sb2FkaW5nID0gdHJ1ZTsNCiAgICAgIHZhciBxdWVyeSA9IHsNCiAgICAgICAgaW5kaWNlOiAiSG91c2UiLA0KICAgICAgICBzaXplOiAiMTAwMDAiLA0KICAgICAgICBxdWVyeTogew0KICAgICAgICAgIGJvb2w6IHsNCiAgICAgICAgICAgIG11c3Q6IFsNCiAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIG1hdGNoOiB7DQogICAgICAgICAgICAgICAgICBfdHlwZTogIkhvdXNlIiwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgbWF0Y2g6IHsNCiAgICAgICAgICAgICAgICAgIGlzQWN0aXZlOiAxLA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgIH0sDQogICAgICAgICAgICBdLA0KICAgICAgICAgIH0sDQogICAgICAgIH0sDQogICAgICB9Ow0KICAgICAgaWYgKGtleXdvcmRTZWFyY2gpIHsNCiAgICAgICAgcXVlcnkgPSB7DQogICAgICAgICAgaW5kaWNlOiAiSG91c2UiLA0KICAgICAgICAgIHNpemU6ICIxMDAwMCIsDQogICAgICAgICAgcXVlcnk6IHsNCiAgICAgICAgICAgIGJvb2w6IHsNCiAgICAgICAgICAgICAgbXVzdDogWw0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgIG1hdGNoOiB7DQogICAgICAgICAgICAgICAgICAgIF90eXBlOiAiSG91c2UiLA0KICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgIG1hdGNoOiB7DQogICAgICAgICAgICAgICAgICAgIGlzQWN0aXZlOiAxLA0KICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgIGJvb2w6IHsNCiAgICAgICAgICAgICAgICAgICAgc2hvdWxkOiBbDQogICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2g6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZToga2V5d29yZFNlYXJjaCwNCiAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaDogew0KICAgICAgICAgICAgICAgICAgICAgICAgICBjaXR5TmFtZToga2V5d29yZFNlYXJjaCwNCiAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgXSwNCiAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgXSwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgfSwNCiAgICAgICAgfTsNCiAgICAgIH0NCiAgICAgIHZtLiRheGlvcw0KICAgICAgICAucG9zdChgL2Jvb2tpbmcvYXBpL3YxL19zZWFyY2hgLCBxdWVyeSkNCiAgICAgICAgLnRoZW4oYXN5bmMgKHJlc3BvbnNlKSA9PiB7DQogICAgICAgICAgdm0uaG91c2VzID0gW107DQogICAgICAgICAgZm9yIChsZXQgaG91c2Ugb2YgcmVzcG9uc2UuZGF0YS5oaXRzLmhpdHMpIHsNCiAgICAgICAgICAgIGxldCBpbWFnZSA9IGF3YWl0IHZtLmNhbGxBUEkoaG91c2UuX3NvdXJjZS5ob3VzZUlkKTsNCiAgICAgICAgICAgIGhvdXNlLl9zb3VyY2UuYXZ0ID0gIi9ib29raW5nL2ltYWdlcy8iICsgaW1hZ2VbMF07DQoNCiAgICAgICAgICAgIGxldCBxdWVyeVZvdGUgPSB7DQogICAgICAgICAgICAgIGluZGljZTogIlZvdGluZyIsDQogICAgICAgICAgICAgIHNpemU6IDEwMDAwLA0KICAgICAgICAgICAgICBxdWVyeTogew0KICAgICAgICAgICAgICAgIGJvb2w6IHsNCiAgICAgICAgICAgICAgICAgIG11c3Q6IFsNCiAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgIG1hdGNoOiB7DQogICAgICAgICAgICAgICAgICAgICAgICBfdHlwZTogIlZvdGluZyIsDQogICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgIG1hdGNoOiB7DQogICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICJjb20uYm9va2luZy5tb2RlbC5Ib3VzZSIsDQogICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgIG1hdGNoOiB7DQogICAgICAgICAgICAgICAgICAgICAgICBjbGFzc1BLOiBob3VzZS5fc291cmNlLmhvdXNlSWQsDQogICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgIF0sDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICBhd2FpdCB2bS4kYXhpb3MNCiAgICAgICAgICAgICAgLnBvc3QoYC9ib29raW5nL2FwaS92MS9fc2VhcmNoYCwgcXVlcnlWb3RlKQ0KICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICAgICAgICAgICAgICBob3VzZS5fc291cmNlLmNvdW50Vm90ZSA9IHJlc3BvbnNlLmRhdGEuaGl0cy5oaXRzLmxlbmd0aDsNCiAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOw0KICAgICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgdm0uaG91c2VzLnB1c2goaG91c2UpOw0KICAgICAgICAgIH0NCiAgICAgICAgICB2bS5sb2FkaW5nID0gZmFsc2U7DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7DQogICAgICAgICAgY29uc29sZS5sb2coZXJyKTsNCiAgICAgICAgfSk7DQogICAgfSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["ListHouse.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ListHouse.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <v-item-group>\r\n    <v-container fluid>\r\n      <div class=\"d-flex justify-end\" style=\"height: 60px;\">\r\n        <v-col cols=\"12\" lg=\"6\" class=\"d-flex align-center\">\r\n          <v-menu offset-y v-for=\"(el, index) in dropdownSearchs\" :key=\"index\">\r\n            <template v-slot:activator=\"{ on, attrs }\">\r\n              <v-btn small style=\"margin-right: 20px\" v-bind=\"attrs\" v-on=\"on\">\r\n                <span style=\"font-size: 15px;\" class=\"material-icons\">{{el.icon}}</span>\r\n                {{el.title}}\r\n              </v-btn>\r\n            </template>\r\n            <v-list max-height=\"300px\" class=\"overflow-y-auto\">\r\n              <v-list-item\r\n                style=\"min-height: 35px!important;\"\r\n                v-for=\"item in el.items\"\r\n                :key=\"item.id\"\r\n              >\r\n                <v-btn small width=\"85\" text @click=\"searchAPI(item.name)\">{{ item.name }}</v-btn>\r\n              </v-list-item>\r\n            </v-list>\r\n          </v-menu>\r\n        </v-col>\r\n        <v-col cols=\"12\" lg=\"6\">\r\n          <v-text-field\r\n            v-model=\"search\"\r\n            outlined\r\n            label=\"Search\"\r\n            type=\"text\"\r\n            dense\r\n            v-on:keyup.enter=\"searchAPI(search)\"\r\n          >\r\n            <template v-slot:append>\r\n              <v-fade-transition leave-absolute>\r\n                <v-progress-circular v-if=\"loading\" size=\"24\" color=\"info\" indeterminate></v-progress-circular>\r\n                <span class=\"material-icons\">search</span>\r\n              </v-fade-transition>\r\n            </template>\r\n          </v-text-field>\r\n        </v-col>\r\n      </div>\r\n      <v-divider></v-divider>\r\n      <v-row>\r\n        <v-col\r\n          class=\"house-preview\"\r\n          v-for=\"house in houses\"\r\n          :key=\"house._source.houseId\"\r\n          style=\"max-width: 20%;\"\r\n        >\r\n          <router-link\r\n            style=\"text-decoration: none;\"\r\n            :to=\"{name: 'CommonHouse', params: {houseId: house._source.houseId}}\"\r\n          >\r\n            <v-item>\r\n              <v-card class=\"mx-auto my-12\" max-width=\"374\">\r\n                <v-img height=\"200\" :src=\"house._source.avt\"></v-img>\r\n                <v-card-title\r\n                  class=\"title text-truncate\"\r\n                  style=\"font-size: 1rem!important; padding: 0 16px; font-weight: 900;\"\r\n                >{{house._source.name}}</v-card-title>\r\n                <v-card-text style=\"padding: 0px 16px;\">\r\n                  <v-row align=\"center\" class=\"mx-0\">\r\n                    <v-rating :value=\"4.5\" color=\"amber\" dense half-increments readonly size=\"13\"></v-rating>\r\n                    <div\r\n                      class=\"grey--text ml-4\"\r\n                      style=\"font-size: 13px;\"\r\n                    >4.5 ({{house._source.countVote}})</div>\r\n                  </v-row>\r\n                  <div\r\n                    class=\"my-4 subtitle-1 font-weight-bold\"\r\n                    style=\"font-size: .875rem!important; margin-top: 0!important; margin-bottom: 0!important; font-weight: 900!important; color: black;\"\r\n                  >{{formatPrice(house._source.price)}}$/night</div>\r\n                  <div\r\n                    class=\"text-truncate\"\r\n                    style=\"padding: 5px 0; color: black;\"\r\n                  >{{house._source.villageName}}, {{house._source.districtName}}, {{house._source.cityName}}, {{house._source.stateName}}</div>\r\n                </v-card-text>\r\n                <v-divider class=\"mx-4\"></v-divider>\r\n                <v-card-text\r\n                  style=\"font-size: 13px; padding: 5px 16px\"\r\n                >{{house._source.maxGuest}} guests • {{house._source.bathroom}} Bathroom • {{house._source.bedroom}} Bedroom</v-card-text>\r\n              </v-card>\r\n            </v-item>\r\n          </router-link>\r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n  </v-item-group>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"ListHouse\",\r\n  props: {\r\n    query: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      houses: [],\r\n      search: null,\r\n      loading: false,\r\n      dropdownSearchs: [\r\n        { title: \"Area\", icon: \"location_on\", items: [] },\r\n        { title: \"Price\", icon: \"local_offer\", items: [] },\r\n        { title: \"Bedrooms\", icon: \"weekend\", items: [] },\r\n        { title: \"More filters\", items: [] },\r\n      ],\r\n    };\r\n  },\r\n  created: function () {\r\n    let vm = this;\r\n    vm.$axios\r\n      .post(`/booking/api/v1/_search`, vm.query)\r\n      .then(async (response) => {\r\n        for (let house of response.data.hits.hits) {\r\n          let image = await vm.callAPI(house._source.houseId);\r\n          house._source.avt = \"/booking/images/\" + image[0];\r\n\r\n          let queryVote = {\r\n            indice: \"Voting\",\r\n            size: 10000,\r\n            query: {\r\n              bool: {\r\n                must: [\r\n                  {\r\n                    match: {\r\n                      _type: \"Voting\",\r\n                    },\r\n                  },\r\n                  {\r\n                    match: {\r\n                      className: \"com.booking.model.House\",\r\n                    },\r\n                  },\r\n                  {\r\n                    match: {\r\n                      classPK: house._source.houseId,\r\n                    },\r\n                  },\r\n                ],\r\n              },\r\n            },\r\n          };\r\n          await vm.$axios\r\n            .post(`/booking/api/v1/_search`, queryVote)\r\n            .then((response) => {\r\n              house._source.countVote = response.data.hits.hits.length;\r\n            })\r\n            .catch((err) => {\r\n              console.log(err);\r\n            });\r\n\r\n          vm.houses.push(house);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n      \r\n    vm.$axios\r\n      .get(`/booking/api/v1/citys`, {\r\n        params: { start: 0, end: 5000 },\r\n      })\r\n      .then((response) => {\r\n        for (let item of response.data.content) {\r\n          let obj = { id: item.cityId, name: item.cityName };\r\n          vm.dropdownSearchs[0].items.push(obj);\r\n        }\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n      });\r\n  },\r\n  methods: {\r\n    formatPrice(value) {\r\n      let val = (value / 1).toFixed().replace(\".\", \",\");\r\n      return val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\r\n    },\r\n    callAPI(houseId) {\r\n      let vm = this;\r\n      return new Promise((resolve, reject) => {\r\n        vm.$axios\r\n          .get(`/booking/api/v1/image/com.booking.model.House/` + houseId)\r\n          .then(function (response) {\r\n            resolve(response.data.data);\r\n          })\r\n          .catch((err) => {\r\n            reject(err);\r\n          });\r\n      });\r\n    },\r\n    searchAPI(keywordSearch) {\r\n      let vm = this;\r\n      //let keywordSearch = vm.search;\r\n      vm.loading = true;\r\n      var query = {\r\n        indice: \"House\",\r\n        size: \"10000\",\r\n        query: {\r\n          bool: {\r\n            must: [\r\n              {\r\n                match: {\r\n                  _type: \"House\",\r\n                },\r\n              },\r\n              {\r\n                match: {\r\n                  isActive: 1,\r\n                },\r\n              },\r\n            ],\r\n          },\r\n        },\r\n      };\r\n      if (keywordSearch) {\r\n        query = {\r\n          indice: \"House\",\r\n          size: \"10000\",\r\n          query: {\r\n            bool: {\r\n              must: [\r\n                {\r\n                  match: {\r\n                    _type: \"House\",\r\n                  },\r\n                },\r\n                {\r\n                  match: {\r\n                    isActive: 1,\r\n                  },\r\n                },\r\n                {\r\n                  bool: {\r\n                    should: [\r\n                      {\r\n                        match: {\r\n                          name: keywordSearch,\r\n                        },\r\n                      },\r\n                      {\r\n                        match: {\r\n                          cityName: keywordSearch,\r\n                        },\r\n                      },\r\n                    ],\r\n                  },\r\n                },\r\n              ],\r\n            },\r\n          },\r\n        };\r\n      }\r\n      vm.$axios\r\n        .post(`/booking/api/v1/_search`, query)\r\n        .then(async (response) => {\r\n          vm.houses = [];\r\n          for (let house of response.data.hits.hits) {\r\n            let image = await vm.callAPI(house._source.houseId);\r\n            house._source.avt = \"/booking/images/\" + image[0];\r\n\r\n            let queryVote = {\r\n              indice: \"Voting\",\r\n              size: 10000,\r\n              query: {\r\n                bool: {\r\n                  must: [\r\n                    {\r\n                      match: {\r\n                        _type: \"Voting\",\r\n                      },\r\n                    },\r\n                    {\r\n                      match: {\r\n                        className: \"com.booking.model.House\",\r\n                      },\r\n                    },\r\n                    {\r\n                      match: {\r\n                        classPK: house._source.houseId,\r\n                      },\r\n                    },\r\n                  ],\r\n                },\r\n              },\r\n            };\r\n            await vm.$axios\r\n              .post(`/booking/api/v1/_search`, queryVote)\r\n              .then((response) => {\r\n                house._source.countVote = response.data.hits.hits.length;\r\n              })\r\n              .catch((err) => {\r\n                console.log(err);\r\n              });\r\n\r\n            vm.houses.push(house);\r\n          }\r\n          vm.loading = false;\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.house-preview .my-12 {\r\n  margin-top: 0 !important;\r\n  margin-bottom: 0 !important;\r\n}\r\n</style>"]}]}