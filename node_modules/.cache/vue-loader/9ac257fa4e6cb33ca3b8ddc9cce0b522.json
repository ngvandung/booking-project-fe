{"remainingRequest":"C:\\Users\\ddung\\Desktop\\booking-vue\\booking\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ddung\\Desktop\\booking-vue\\booking\\src\\views\\profile\\Profile.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ddung\\Desktop\\booking-vue\\booking\\src\\views\\profile\\Profile.vue","mtime":1593145768701},{"path":"C:\\Users\\ddung\\Desktop\\booking-vue\\booking\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ddung\\Desktop\\booking-vue\\booking\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\ddung\\Desktop\\booking-vue\\booking\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\ddung\\Desktop\\booking-vue\\booking\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ddung\\Desktop\\booking-vue\\booking\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJwcm9maWxlIiwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgdXNlcjogew0KICAgICAgICB1c2VySWQ6ICIiLA0KICAgICAgICB1c2VybmFtZTogIiIsDQogICAgICAgIGZpcnN0TmFtZTogIiIsDQogICAgICAgIGxhc3ROYW1lOiAiIiwNCiAgICAgICAgYWdlOiAwLA0KICAgICAgICBhZGRyZXNzOiAiIiwNCiAgICAgICAgZW1haWw6ICIiLA0KICAgICAgICBwaG9uZTogIiIsDQogICAgICAgIGJpcnRoRGF5OiAiIiwNCiAgICAgICAgZGVzY3JpcHRpb246ICIiLA0KICAgICAgICBoYXNoU2VjcmV0OiAiIiwNCiAgICAgICAgdG1uQ29kZTogIiINCiAgICAgIH0sDQogICAgICByb2xlTmFtZTogbG9jYWxTdG9yYWdlLmdldEl0ZW0oInJvbGVOYW1lIiksDQogICAgICBzdGVwcGVyOiAxLA0KICAgICAgb2xkUGFzc3dvcmQ6ICIiLA0KICAgICAgbmV3UGFzc3dvcmQ6ICIiDQogICAgfTsNCiAgfSwNCiAgYmVmb3JlQ3JlYXRlOiBmdW5jdGlvbigpIHsNCiAgICBsZXQgdm0gPSB0aGlzOw0KICAgIGxldCB1c2VySWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlcklkIik7DQogICAgdm0uJGF4aW9zDQogICAgICAuZ2V0KGBodHRwOi8vbG9jYWxob3N0OjgwODAvYm9va2luZy9hcGkvdjEvdXNlci9gICsgdXNlcklkLCB7DQogICAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgICBBdXRob3JpemF0aW9uOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiand0VG9rZW4iKQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSkgew0KICAgICAgICAgIHZtLnVzZXIgPSByZXNwb25zZS5kYXRhOw0KICAgICAgICB9DQogICAgICB9KQ0KICAgICAgLmNhdGNoKGUgPT4gew0KICAgICAgICB2bS5lcnJvcnMucHVzaChlKTsNCiAgICAgIH0pOw0KICB9LA0KICBtZXRob2RzOiB7DQogICAgdXBkYXRlVXNlcigpIHsNCiAgICAgIGxldCB2bSA9IHRoaXM7DQogICAgICBpZiAodm0ub2xkUGFzc3dvcmQgJiYgdm0ubmV3UGFzc3dvcmQpIHsNCiAgICAgICAgYWxlcnQoIllvIik7DQogICAgICB9DQogICAgICB2bS4kYXhpb3MNCiAgICAgICAgLnB1dChgaHR0cDovL2xvY2FsaG9zdDo4MDgwL2Jvb2tpbmcvYXBpL3YxL3VzZXJgLCB2bS51c2VyLCB7DQogICAgICAgICAgaGVhZGVyczogew0KICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oImp3dFRva2VuIikNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS51c2VySWQpIHsNCiAgICAgICAgICAgIGFsZXJ0KCJVcGRhdGUgc3VjY2Vzc2Z1bGx5Iik7DQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgICAuY2F0Y2goZSA9PiB7DQogICAgICAgICAgdm0uZXJyb3JzLnB1c2goZSk7DQogICAgICAgIH0pOw0KICAgIH0NCiAgfQ0KfTsNCg=="},{"version":3,"sources":["Profile.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Profile.vue","sourceRoot":"src/views/profile","sourcesContent":["<template>\r\n  <v-container fluid>\r\n    <v-stepper v-model=\"stepper\">\r\n      <v-stepper-header>\r\n        <v-stepper-step :complete=\"stepper > 1\" step=\"1\">Account</v-stepper-step>\r\n\r\n        <v-divider></v-divider>\r\n\r\n        <v-stepper-step v-if=\"roleName == 'ROLE_HOST'\" :complete=\"stepper > 2\" step=\"2\">Payments</v-stepper-step>\r\n\r\n        <v-divider></v-divider>\r\n\r\n        <v-stepper-step v-if=\"roleName == 'ROLE_HOST'\" step=\"3\">Change Password</v-stepper-step>\r\n        <v-stepper-step v-else step=\"2\">Change Password</v-stepper-step>\r\n      </v-stepper-header>\r\n\r\n      <v-stepper-items>\r\n        <v-stepper-content step=\"1\">\r\n          <v-container>\r\n            <v-text-field\r\n              v-model=\"user.firstName\"\r\n              label=\"First Name\"\r\n              placeholder=\"First Name\"\r\n              outlined\r\n            ></v-text-field>\r\n            <v-text-field\r\n              v-model=\"user.lastName\"\r\n              label=\"Last Name\"\r\n              placeholder=\"Last Name\"\r\n              outlined\r\n            ></v-text-field>\r\n            <v-text-field v-model=\"user.email\" label=\"Email\" placeholder=\"Email\" outlined></v-text-field>\r\n            <v-text-field v-model=\"user.address\" label=\"Address\" placeholder=\"Address\" outlined></v-text-field>\r\n            <v-text-field v-model=\"user.phone\" label=\"Phone\" placeholder=\"Phone\" outlined></v-text-field>\r\n            <v-textarea\r\n              v-model=\"user.description\"\r\n              label=\"Describe yourself\"\r\n              placeholder=\"Description\"\r\n              outlined\r\n            ></v-textarea>\r\n          </v-container>\r\n\r\n          <v-btn color=\"primary\" @click=\"stepper = 2\">Continue</v-btn>\r\n\r\n          <v-btn text>Cancel</v-btn>\r\n        </v-stepper-content>\r\n\r\n        <v-stepper-content v-if=\"roleName == 'ROLE_HOST'\" step=\"2\">\r\n          <v-container>\r\n            <v-text-field\r\n              v-model=\"user.hashSecret\"\r\n              label=\"Secret Key\"\r\n              placeholder=\"Secret Key\"\r\n              outlined\r\n              type=\"password\"\r\n            ></v-text-field>\r\n            <v-text-field\r\n              v-model=\"user.tmnCode\"\r\n              label=\"Terminal ID\"\r\n              placeholder=\"Terminal ID\"\r\n              outlined\r\n            ></v-text-field>\r\n          </v-container>\r\n\r\n          <v-btn color=\"primary\" @click=\"stepper = 3\">Continue</v-btn>\r\n\r\n          <v-btn @click=\"stepper = 1\" text>Back</v-btn>\r\n        </v-stepper-content>\r\n\r\n        <v-stepper-content v-if=\"roleName == 'ROLE_HOST'\" step=\"3\">\r\n          <v-container>\r\n            <v-text-field\r\n              v-model=\"oldPassword\"\r\n              label=\"Old Password\"\r\n              placeholder=\"Old Password\"\r\n              outlined\r\n            ></v-text-field>\r\n            <v-text-field\r\n              v-model=\"newPassword\"\r\n              label=\"New Password\"\r\n              placeholder=\"New Password\"\r\n              outlined\r\n              type=\"password\"\r\n            ></v-text-field>\r\n          </v-container>\r\n\r\n          <v-btn color=\"primary\" v-on:click=\"updateUser\">Update</v-btn>\r\n\r\n          <v-btn @click=\"stepper = 2\" text>Back</v-btn>\r\n        </v-stepper-content>\r\n        <v-stepper-content v-else step=\"2\">\r\n          <v-container>\r\n            <v-text-field\r\n              v-model=\"oldPassword\"\r\n              label=\"Old Password\"\r\n              placeholder=\"Old Password\"\r\n              outlined\r\n            ></v-text-field>\r\n            <v-text-field\r\n              v-model=\"newPassword\"\r\n              label=\"New Password\"\r\n              placeholder=\"New Password\"\r\n              outlined\r\n              type=\"password\"\r\n            ></v-text-field>\r\n          </v-container>\r\n\r\n          <v-btn color=\"primary\" v-on:click=\"updateUser\">Update</v-btn>\r\n\r\n          <v-btn @click=\"stepper = 1\" text>Back</v-btn>\r\n        </v-stepper-content>\r\n      </v-stepper-items>\r\n    </v-stepper>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"profile\",\r\n  data() {\r\n    return {\r\n      user: {\r\n        userId: \"\",\r\n        username: \"\",\r\n        firstName: \"\",\r\n        lastName: \"\",\r\n        age: 0,\r\n        address: \"\",\r\n        email: \"\",\r\n        phone: \"\",\r\n        birthDay: \"\",\r\n        description: \"\",\r\n        hashSecret: \"\",\r\n        tmnCode: \"\"\r\n      },\r\n      roleName: localStorage.getItem(\"roleName\"),\r\n      stepper: 1,\r\n      oldPassword: \"\",\r\n      newPassword: \"\"\r\n    };\r\n  },\r\n  beforeCreate: function() {\r\n    let vm = this;\r\n    let userId = localStorage.getItem(\"userId\");\r\n    vm.$axios\r\n      .get(`http://localhost:8080/booking/api/v1/user/` + userId, {\r\n        headers: {\r\n          Authorization: localStorage.getItem(\"jwtToken\")\r\n        }\r\n      })\r\n      .then(response => {\r\n        if (response.data) {\r\n          vm.user = response.data;\r\n        }\r\n      })\r\n      .catch(e => {\r\n        vm.errors.push(e);\r\n      });\r\n  },\r\n  methods: {\r\n    updateUser() {\r\n      let vm = this;\r\n      if (vm.oldPassword && vm.newPassword) {\r\n        alert(\"Yo\");\r\n      }\r\n      vm.$axios\r\n        .put(`http://localhost:8080/booking/api/v1/user`, vm.user, {\r\n          headers: {\r\n            Authorization: localStorage.getItem(\"jwtToken\")\r\n          }\r\n        })\r\n        .then(response => {\r\n          if (response.data.userId) {\r\n            alert(\"Update successfully\");\r\n          }\r\n        })\r\n        .catch(e => {\r\n          vm.errors.push(e);\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>"]}]}